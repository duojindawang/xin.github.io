<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>给最爱的你 - 浪漫烟花惊喜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: white;
            text-align: center;
            position: relative;
        }

        .container {
            z-index: 10;
            max-width: 90%;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.8);
            background: linear-gradient(45deg, #ff6b9d, #feca57);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: glow 2s infinite alternate;
        }

        .heart {
            font-size: 3.5rem;
            margin: 15px 0;
            animation: beat 1.2s infinite;
            display: inline-block;
            color: #ff4d6d;
            text-shadow: 0 0 15px rgba(255, 77, 109, 0.8);
        }

        p {
            font-size: 1.3rem;
            margin: 15px 0;
            line-height: 1.6;
            color: #e6e6ff;
        }

        .name {
            font-weight: bold;
            color: #feca57;
            text-shadow: 0 0 5px rgba(254, 202, 87, 0.7);
        }

        .btn {
            background: linear-gradient(45deg, #ff6b9d, #ff8eab);
            color: white;
            border: none;
            padding: 15px 45px;
            font-size: 1.3rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 25px 0;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.4);
            font-weight: bold;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 157, 0.6);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .floating-hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
        }

        .heart-particle {
            position: absolute;
            font-size: 20px;
            color: #ff4d6d;
            opacity: 0;
            animation: float 6s infinite ease-in-out;
            text-shadow: 0 0 10px rgba(255, 77, 109, 0.8);
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px rgba(255, 105, 180, 0.8); }
            to { text-shadow: 0 0 20px rgba(255, 105, 180, 1), 0 0 30px rgba(255, 105, 180, 0.8); }
        }

        @keyframes beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        @keyframes float {
            0% { transform: translateY(100vh) translateX(0) scale(0.8); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(50px) scale(1.2); opacity: 0; }
        }

        .message {
            font-size: 1.1rem;
            margin-top: 20px;
            font-style: italic;
            color: #c1c1ff;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .instructions {
            margin-top: 25px;
            font-size: 0.9rem;
            color: #888;
            background: rgba(0, 0, 0, 0.2);
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (max-width: 600px) {
            h1 { font-size: 2.2rem; }
            p { font-size: 1.1rem; }
            .btn { padding: 12px 30px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <div class="fireworks-container">
        <canvas id="fireworksCanvas"></canvas>
    </div>

    <div class="floating-hearts" id="heartsContainer"></div>

    <div class="container">
        <div class="heart">❤</div>
        <h1>致我最爱的宝贝</h1>
        <p>亲爱的 <span class="name">[芯芯宝宝]</span>，</p>
        <p>每一次想你，心里都像绽放的烟花</p>
        <p>绚烂而温暖</p>

        <button class="btn" id="fireworksBtn">点击看专属烟花  ✨</button>

        <p class="message">你是我生命中最美丽的惊喜，每一天都因为你而闪耀</p>

        <div class="instructions">
            温馨提示：点击上方按钮即可观看浪漫烟花秀<br>
            建议在安静的环境下打开，效果更佳哦~
        </div>
    </div>

    <script>
        // 烟花效果
        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        let fireworks = [];
        let particles = [];
        let lastTime = 0;
        let heartTimer = 0;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Firework {
            constructor(x, y, targetY, color) {
                this.x = x;
                this.y = y;
                this.targetY = targetY;
                this.color = color;
                this.speed = 8;
                this.angle = Math.atan2(targetY - y, 0);
                this.vx = Math.cos(this.angle) * this.speed;
                this.vy = Math.sin(this.angle) * this.speed;
                this.hue = color;
                this.brightness = Math.random() + 50;
                this.alpha = 1;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.1; // gravity

                if (this.y <= this.targetY) {
                    createParticles(this.x, this.y, this.hue);
                    return false;
                }
                return true;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
                ctx.fillStyle = `hsl(${this.hue}, 100%, ${this.brightness}%)`;
                ctx.fill();
            }
        }

        class Particle {
            constructor(x, y, hue) {
                this.x = x;
                this.y = y;
                this.hue = hue;
                this.speed = Math.random() * 5 + 2;
                this.angle = Math.random() * Math.PI * 2;
                this.vx = Math.cos(this.angle) * this.speed;
                this.vy = Math.sin(this.angle) * this.speed;
                this.friction = 0.95;
                this.gravity = 0.05;
                this.alpha = 1;
                this.decay = Math.random() * 0.015 + 0.005;
                this.size = Math.random() * 3 + 1;
                this.brightness = Math.random() * 30 + 60;
            }

            update() {
                this.vx *= this.friction;
                this.vy *= this.friction;
                this.vy += this.gravity;
                this.x += this.vx;
                this.y += this.vy;
                this.alpha -= this.decay;
                return this.alpha > 0;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = `hsla(${this.hue}, 100%, ${this.brightness}%, ${this.alpha})`;
                ctx.fill();
            }
        }

        function createParticles(x, y, hue) {
            const particleCount = 80;
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle(x, y, hue));
            }
        }

        function createHeartParticles(x, y) {
            // 创建心形烟花
            const particleCount = 100;
            const heartX = x;
            const heartY = y;
            const hue = 340; // 粉红色

            for (let i = 0; i < particleCount; i++) {
                const angle = Math.PI * 2 * (i / particleCount);
                // 心形参数方程
                const t = angle;
                const heartScale = 15;
                const dx = heartScale * (16 * Math.pow(Math.sin(t), 3));
                const dy = -heartScale * (13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));

                const particle = new Particle(heartX + dx, heartY + dy, hue);
                // 使粒子保持心形轨迹
                particle.vx = dx * 0.05;
                particle.vy = dy * 0.05;
                particle.friction = 0.92;
                particle.decay = 0.008;
                particle.size = Math.random() * 2 + 2;
                particle.brightness = 80;
                particles.push(particle);
            }
        }

        function launchFirework() {
            const x = Math.random() * canvas.width;
            const y = canvas.height;
            const targetY = canvas.height * 0.15 + Math.random() * (canvas.height * 0.3);
            const hue = Math.floor(Math.random() * 360);
            fireworks.push(new Firework(x, y, targetY, hue));
        }

        function launchHeartFirework() {
            const x = canvas.width / 2;
            const y = canvas.height * 0.4;
            createHeartParticles(x, y);

            // 额外添加一些粉色烟花
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const offsetX = (Math.random() - 0.5) * 200;
                    const offsetY = (Math.random() - 0.5) * 100;
                    createParticles(x + offsetX, y + offsetY, 340);
                }, i * 200);
            }
        }

        function animate(timestamp) {
            if (!lastTime) lastTime = timestamp;
            const deltaTime = timestamp - lastTime;
            lastTime = timestamp;

            // 淡出背景
            ctx.fillStyle = 'rgba(10, 10, 30, 0.15)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 更新和绘制烟花
            for (let i = fireworks.length - 1; i >= 0; i--) {
                fireworks[i].draw();
                if (!fireworks[i].update()) {
                    fireworks.splice(i, 1);
                }
            }

            // 更新和绘制粒子
            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].draw();
                if (!particles[i].update()) {
                    particles.splice(i, 1);
                }
            }

            // 持续发射普通烟花
            if (Math.random() < 0.03) {
                launchFirework();
            }

            // 每隔一段时间发射心形烟花
            heartTimer += deltaTime;
            if (heartTimer > 3500) {
                launchHeartFirework();
                heartTimer = 0;
            }

            requestAnimationFrame(animate);
        }

        // 创建漂浮的心形粒子
        function createFloatingHearts() {
            const heartsContainer = document.getElementById('heartsContainer');
            const heart = document.createElement('div');
            heart.className = 'heart-particle';
            heart.textContent = '❤';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 4 + 6) + 's';
            heart.style.fontSize = (Math.random() * 15 + 15) + 'px';
            heartsContainer.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 10000);
        }

        // 按钮点击事件
        document.getElementById('fireworksBtn').addEventListener('click', function() {
            this.textContent = "正在绽放...";
            this.disabled = true;

            // 开始动画
            requestAnimationFrame(animate);

            // 创建漂浮的心
            setInterval(createFloatingHearts, 300);

            // 添加一些初始烟花
            for (let i = 0; i < 5; i++) {
                setTimeout(() => launchFirework(), i * 400);
            }

            // 稍后添加心形烟花
            setTimeout(() => {
                launchHeartFirework();
                this.textContent = "烟花绽放中 ❤";
            }, 2500);
        });

        // 页面加载时添加一些漂浮的心
        setInterval(createFloatingHearts, 1200);
    </script>
</body>
</html>
